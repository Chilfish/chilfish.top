---
import LinkBar from '@cp/common/LinkBar.astro'
import { formatDate, getPosts } from '~/utils'

const posts = (await getPosts('blog')).slice(0, 5)
---

<div>
  <LinkBar
    title="Blogs"
    href="/blog"
    aclass="mb-4"
  />
  <ul>
    {posts.map(({ data: post, slug }) => (
      <a
        href={`/blog/${slug}/`}
      >
        <h3 class="font-400 underline">
          {post.title}
        </h3>
        <time class="ml-2 min-w-fit">
          { formatDate(post.date!) }
        </time>
      </a>
    ))}

    <a
      href="/note"
      class="underline"
    >
      Some notes
    </a>
  </ul>
</div>

<style>
a {
  --uno: px-3 py-2 flex rounded items-center justify-between font-400 bg-hover;
}
</style>
