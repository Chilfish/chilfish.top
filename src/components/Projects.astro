---
import { ProjectList, Techs } from '~/constant'
import Image from './common/Image.astro'
import LinkBar from './common/LinkBar.astro'

---

<div>
  <LinkBar
    title="Projects"
    href="https://github.com/Chilfish?tab=repositories&type=source"
  />
  <div
    uno-grid="~ cols-1 sm:cols-2"
    class="mt-3 gap-4 trans-all"
  >
    { ProjectList.map(project => (
      <a
        target="_blank"
        rel="noopener noreferrer"
        href={project.url}
        title={project.name}
        class="mx-auto w-90% flex flex-col gap-2 rounded-md bg-gray-2 p-4 transition-colors sm:w-full dark:bg-dark-6"
      >
        { project.banner && (
          <Image
            src={project.banner}
            alt={project.name}
            width={450}
            height={260}
            lazy={false}
            class="h-42 w-auto rounded-md trans-all sm:h-54"
            uno-object="cover top-center"
          />
        ) }
        <div class="text-xl">
          { project.name }
        </div>
        <div class="text-sm">
          { project.description }
        </div>

        <div class="meta mt-auto flex items-center gap-3 text-3">
          <div>
            <span class="i-tabler-license icon" />
            <span>{ project.license }</span>
          </div>
          { project.techs.map(name => (
            <span
              style={{
                color: Techs[name].color,
              }}
              class={`icon ${Techs[name].icon}`}
            >
            </span>
          ))}
        </div>
      </a>
    ))}
  </div>
</div>

<style>
div.meta > div {
  @apply: icon-box;
}
</style>
